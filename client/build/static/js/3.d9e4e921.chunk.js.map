{"version":3,"sources":["store/actions/reviews.js","components/layout/addReview.js"],"names":["AddNewReview","rating","review","dispatch","getState","a","user","credentials","id","product","products","userData","axios","post","response","console","log","getReviews","type","LOADING_UI","get","GET_REVIEW","payload","data","STOP_LOADING_UI","updateReview","reviewId","patch","UPDATE_REVIEW","deleteReview","delete","DELETE_REVIEW","AddReview","props","useDispatch","useSelector","state","useState","SetRating","SetReview","inputHandler","e","name","value","inputSubmitHandler","preventDefault","className","onSubmit","htmlFor","max","min","onChange","event","target","onClick"],"mappings":"mSASaA,EAAe,SAACC,EAAQC,GACnC,8CAAO,WAAOC,EAAUC,GAAjB,qBAAAC,EAAA,6DACCC,EAAOF,IAAWE,KAAKC,YAAYC,GACnCC,EAAUL,IAAWM,SAASD,QAAQD,GAEtCG,EAAW,CACfT,SACAD,SACAQ,UACAH,QARG,kBAYoBM,IAAMC,KAAK,WAAYF,GAZ3C,OAYGG,EAZH,OAaHC,QAAQC,IAAIF,GAbT,kDAeHC,QAAQC,IAAI,KAAIF,UAfb,0DAAP,yDAoBWG,EAAa,WACxB,8CAAO,WAAOd,EAAUC,GAAjB,iBAAAC,EAAA,sEAEHF,EAAS,CAAEe,KAAMC,MACXb,EAAOF,IAAWE,KAAKC,YAAYC,GAHtC,SAIoBI,IAAMQ,IAAN,kBAAqBd,IAJzC,OAIGQ,EAJH,OAKHX,EAAS,CAAEe,KAAMG,IAAYC,QAASR,EAASS,KAAKA,KAAKA,OACzDpB,EAAS,CAAEe,KAAMM,MANd,kDAQHT,QAAQC,IAAI,KAAIF,UARb,0DAAP,yDAaWW,EAAe,SAACC,EAAUf,GACrC,8CAAO,WAAOR,GAAP,eAAAE,EAAA,+EAEoBO,IAAMe,MAAN,mBAAwBD,GAAYf,GAFxD,OAEGG,EAFH,OAIHX,EAAS,CAAEe,KAAMU,IAAeN,QAASR,EAASS,KAAKA,KAAKA,OAJzD,gDAMHR,QAAQC,IAAI,KAAIF,UANb,yDAAP,uDAWWe,EAAe,SAACH,GAC3B,8CAAO,WAAOvB,GAAP,eAAAE,EAAA,+EAEoBO,IAAMkB,OAAN,mBAAyBJ,IAF7C,OAEGZ,EAFH,OAGHX,EAAS,CAAEe,KAAMa,IAAeT,QAASI,IACzCX,QAAQC,IAAIF,GAJT,gDAMHC,QAAQC,IAAI,KAAIF,UANb,yDAAP,wD,yGCsBakB,UA1EG,SAACC,GACjB,IAAM9B,EAAW+B,cADU,GAEdC,aAAY,SAACC,GAAD,OAAWA,EAAM9B,QACd+B,mBAAS,KAHV,mBAGpBpC,EAHoB,KAGZqC,EAHY,OAICD,mBAAS,IAJV,mBAIpBnC,EAJoB,KAIZqC,EAJY,KAQrBC,EAAe,SAACC,GACL,WAAXA,EAAEC,KACJJ,EAAUG,EAAEE,OACQ,WAAXF,EAAEC,MACXH,EAAUE,EAAEE,QAGVC,EAAkB,uCAAG,WAAOH,GAAP,SAAApC,EAAA,sDACzBoC,EAAEI,iBAEF1C,EAASH,YAAaC,EAAQC,IAHL,2CAAH,sDAKxB,OACE,oCACE,6BAAS4C,UAAU,oBACjB,yBAAKA,UAAU,WACb,0BAAMC,SAAUH,GACd,yBAAKE,UAAU,eACb,2BACEE,QAAQ,SACRF,UAAU,mCAFZ,UAMA,2BACE5B,KAAK,SACL+B,IAAI,IACJC,IAAI,IACJR,KAAK,SACLlC,GAAG,SACHsC,UAAU,cACVH,MAAO1C,EACPkD,SAAU,SAACC,GAAD,OAAWZ,EAAaY,EAAMC,YAG5C,yBAAKP,UAAU,eACb,2BACEE,QAAQ,SACRF,UAAU,mCAFZ,UAMA,2BACE5B,KAAK,OACLwB,KAAK,SACLlC,GAAG,SACHsC,UAAU,cACVH,MAAOzC,EACPiD,SAAU,SAACC,GAAD,OAAWZ,EAAaY,EAAMC,YAG5C,yBAAKP,UAAU,gDACb,4BAAQA,UAAU,mBAAmBQ,QAASV,GAA9C,UAGA,4BAAQE,UAAU,oCAAlB","file":"static/js/3.d9e4e921.chunk.js","sourcesContent":["import {\r\n  GET_REVIEW,\r\n  LOADING_UI,\r\n  STOP_LOADING_UI,\r\n  DELETE_REVIEW,\r\n  UPDATE_REVIEW,\r\n} from \"../types\";\r\nimport axios from \"axios\";\r\n\r\nexport const AddNewReview = (rating, review) => {\r\n  return async (dispatch, getState) => {\r\n    const user = getState().user.credentials.id;\r\n    const product = getState().products.product.id;\r\n\r\n    const userData = {\r\n      review,\r\n      rating,\r\n      product,\r\n      user,\r\n    };\r\n\r\n    try {\r\n      const response = await axios.post(\"/reviews\", userData);\r\n      console.log(response);\r\n    } catch (err) {\r\n      console.log(err.response);\r\n    }\r\n  };\r\n};\r\n\r\nexport const getReviews = () => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: LOADING_UI });\r\n      const user = getState().user.credentials.id;\r\n      const response = await axios.get(`reviews/${user}`);\r\n      dispatch({ type: GET_REVIEW, payload: response.data.data.data });\r\n      dispatch({ type: STOP_LOADING_UI });\r\n    } catch (err) {\r\n      console.log(err.response);\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateReview = (reviewId, userData) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.patch(`/reviews/${reviewId}`, userData);\r\n      // console.log(response.data.data.data);\r\n      dispatch({ type: UPDATE_REVIEW, payload: response.data.data.data });\r\n    } catch (err) {\r\n      console.log(err.response);\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteReview = (reviewId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.delete(`/reviews/${reviewId}`);\r\n      dispatch({ type: DELETE_REVIEW, payload: reviewId });\r\n      console.log(response);\r\n    } catch (err) {\r\n      console.log(err.response);\r\n    }\r\n  };\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { AddNewReview } from \"../../store/actions/reviews\";\r\n\r\nconst AddReview = (props) => {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state) => state.user);\r\n  const [rating, SetRating] = useState(\"\");\r\n  const [review, SetReview] = useState(\"\");\r\n  //   console.log(review);\r\n  // window.history.pushState(null, null, newPath);\r\n\r\n  const inputHandler = (e) => {\r\n    if (e.name === \"Rating\") {\r\n      SetRating(e.value);\r\n    } else if (e.name === \"Review\") {\r\n      SetReview(e.value);\r\n    }\r\n  };\r\n  const inputSubmitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch(AddNewReview(rating, review));\r\n  };\r\n  return (\r\n    <>\r\n      <section className=\"section-editForm\">\r\n        <div className=\"addForm\">\r\n          <form onSubmit={inputSubmitHandler}>\r\n            <div className=\"form__group\">\r\n              <label\r\n                htmlFor=\"Rating\"\r\n                className=\"form__label form__label--center\"\r\n              >\r\n                Rating\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                max=\"5\"\r\n                min=\"1\"\r\n                name=\"Rating\"\r\n                id=\"Rating\"\r\n                className=\"form__input\"\r\n                value={rating}\r\n                onChange={(event) => inputHandler(event.target)}\r\n              />\r\n            </div>\r\n            <div className=\"form__group\">\r\n              <label\r\n                htmlFor=\"Review\"\r\n                className=\"form__label form__label--center\"\r\n              >\r\n                Review\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"Review\"\r\n                id=\"Review\"\r\n                className=\"form__input\"\r\n                value={review}\r\n                onChange={(event) => inputHandler(event.target)}\r\n              />\r\n            </div>\r\n            <div className=\"userViewAddress__actions u-margin-top-medium\">\r\n              <button className=\"btn btn--cart--1\" onClick={inputSubmitHandler}>\r\n                Submit\r\n              </button>\r\n              <button className=\"btn btn--cart--2 u-margin-left-3\">\r\n                cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddReview;\r\n"],"sourceRoot":""}